description: Data creation for 4AA-large

target:
  service: amlk8s
  #name: itplabrr1cl1
  #name: itpeusp100cl
  name: ms-shared
  vc: MS-Shared

environment:
  image: azureml/openmpi4.1.0-cuda11.1-cudnn8-ubuntu20.04:latest
  conda_yaml_file: $CONFIG_DIR/../../../infrastructure/timewarp-environment.yml
  image_setup:
    - apt -y update && apt install -y libglvnd-dev

code:
  # local directory of the code. this will be uploaded to the server.
  # $CONFIG_DIR is expanded to the directory of this config file
  local_dir: $CONFIG_DIR/../../../

storage:
  sim_data_store:
    storage_account_name: feynman0storage
    container_name: simulated-data
    mount_dir: /mnt/simulated-data

  raw_data_store:
    storage_account_name: feynman0storage
    container_name: raw-data
    mount_dir: /mnt/raw-data

search:
    job_template:
        name: '{experiment_name:s}_{pdbpathbase}'
        sku: G1
        command:
        - PYTHONPATH=. 
          python projects/simulation/simulate_trajectory.py 
            --preset=amber14-implicit
            --spacing=10000
            --sampling=100000000
            --no-checkpointing
            /mnt/simulated-data/trajectory-data/4AA/{pdbpathbase}-traj-state0.pdb
            /mnt/simulated-data/trajectory-data/4AA-large-test/{pdbpathbase}-traj.pdb

    type: grid
    max_trials: 1000
    parallel_trials: 400
    params:
      - name: pdbpathbase
        # 400 of 400 PDB files from 4AA-peptides test
        values: choice(
                  "test/AAAY",
                  "test/AACE",
                  "test/AAEW",
                  "test/AAGE",
                  "test/AAKP",
                  "test/AAML",
                  "test/AASK",
                  "test/ACAK",
                  "test/ACKY",
                  "test/ADAS",
                  "test/ADLL",
                  "test/ADVF",
                  "test/ADVK",
                  "test/AEIS",
                  "test/AEME",
                  "test/AEVI",
                  "test/AFIA",
                  "test/AFPN",
                  "test/AGAK",
                  "test/AGFV",
                  "test/AHSH",
                  "test/AIAV",
                  "test/AKFR",
                  "test/AKSL",
                  "test/ALEF",
                  "test/ALQY",
                  "test/ALTQ",
                  "test/ALTV",
                  "test/ALVE",
                  "test/AMIG",
                  "test/ANFG",
                  "test/ANYT",
                  "test/APST",
                  "test/APVD",
                  "test/AQWA",
                  "test/ARDQ",
                  "test/ASGD",
                  "test/ATRS",
                  "test/ATVQ",
                  "test/AVDA",
                  "test/AVDR",
                  "test/AVEK",
                  "test/AVNR",
                  "test/AVPA",
                  "test/AWKC",
                  "test/AYTG",
                  "test/CAQE",
                  "test/CECV",
                  "test/CFDV",
                  "test/CGSS",
                  "test/CHPR",
                  "test/CIKE",
                  "test/CKEF",
                  "test/CKHA",
                  "test/CLEP",
                  "test/CLYS",
                  "test/CMST",
                  "test/CMTS",
                  "test/CSFQ",
                  "test/CSGS",
                  "test/CSLA",
                  "test/CSTT",
                  "test/CTRI",
                  "test/CTSA",
                  "test/CVKF",
                  "test/CVTE",
                  "test/DAKG",
                  "test/DARP",
                  "test/DAYQ",
                  "test/DCSC",
                  "test/DCTE",
                  "test/DDIG",
                  "test/DDLV",
                  "test/DFKS",
                  "test/DGLR",
                  "test/DGMC",
                  "test/DHDF",
                  "test/DIHG",
                  "test/DIRP",
                  "test/DIYG",
                  "test/DKAA",
                  "test/DMVE",
                  "test/DNED",
                  "test/DNFS",
                  "test/DPLK",
                  "test/DPQV",
                  "test/DQAL",
                  "test/DRKK",
                  "test/DSCQ",
                  "test/DSDE",
                  "test/DSDG",
                  "test/DSSL",
                  "test/DTDL",
                  "test/DTLG",
                  "test/DTPL",
                  "test/DTST",
                  "test/DTVA",
                  "test/DTVK",
                  "test/DVNG",
                  "test/DYQC",
                  "test/DYSV",
                  "test/EAFC",
                  "test/EASS",
                  "test/ECGA",
                  "test/EFNL",
                  "test/EGTL",
                  "test/EGVL",
                  "test/EHGT",
                  "test/EIEK",
                  "test/EITG",
                  "test/EKDN",
                  "test/EKDV",
                  "test/EKKL",
                  "test/ELGS",
                  "test/EMVG",
                  "test/EQLG",
                  "test/ERQW",
                  "test/ESAQ",
                  "test/ESKD",
                  "test/ESMP",
                  "test/ESVK",
                  "test/ETLT",
                  "test/ETYD",
                  "test/EVMA",
                  "test/EVRI",
                  "test/FAEY",
                  "test/FAFG",
                  "test/FALS",
                  "test/FFAS",
                  "test/FGES",
                  "test/FGNY",
                  "test/FIAK",
                  "test/FICI",
                  "test/FIGE",
                  "test/FIYG",
                  "test/FKEH",
                  "test/FKSY",
                  "test/FKVP",
                  "test/FMKN",
                  "test/FNIG",
                  "test/FQGK",
                  "test/FSLY",
                  "test/FVGQ",
                  "test/GADI",
                  "test/GCSL",
                  "test/GDAI",
                  "test/GDCD",
                  "test/GDIS",
                  "test/GDQK",
                  "test/GDSL",
                  "test/GDYS",
                  "test/GEIA",
                  "test/GEKV",
                  "test/GELE",
                  "test/GFRD",
                  "test/GFTY",
                  "test/GGAK",
                  "test/GGKA",
                  "test/GGKH",
                  "test/GHGA",
                  "test/GIEG",
                  "test/GIFD",
                  "test/GIGP",
                  "test/GKGR",
                  "test/GLEV",
                  "test/GMTH",
                  "test/GQLN",
                  "test/GRKT",
                  "test/GRSG",
                  "test/GSCD",
                  "test/GSEA",
                  "test/GSKG",
                  "test/GTDL",
                  "test/GTFV",
                  "test/GTGG",
                  "test/GWAV",
                  "test/GYFG",
                  "test/GYLC",
                  "test/HALG",
                  "test/HAWT",
                  "test/HFEN",
                  "test/HLDG",
                  "test/HNLV",
                  "test/HSHV",
                  "test/HTLE",
                  "test/ICCF",
                  "test/ICKK",
                  "test/IDRL",
                  "test/IELD",
                  "test/IGDN",
                  "test/IHLA",
                  "test/IKFR",
                  "test/IKII",
                  "test/IKSF",
                  "test/ILLY",
                  "test/IMYP",
                  "test/ISSK",
                  "test/ITQD",
                  "test/ITVV",
                  "test/IVAK",
                  "test/IVNE",
                  "test/KADL",
                  "test/KAEG",
                  "test/KDNM",
                  "test/KDQG",
                  "test/KECC",
                  "test/KGCI",
                  "test/KGDI",
                  "test/KGTG",
                  "test/KGVS",
                  "test/KIAP",
                  "test/KKAH",
                  "test/KKAL",
                  "test/KKGL",
                  "test/KKKC",
                  "test/KKQF",
                  "test/KLTS",
                  "test/KNLR",
                  "test/KREK",
                  "test/KRIS",
                  "test/KSHI",
                  "test/KSLW",
                  "test/KSTN",
                  "test/KSWG",
                  "test/KTKS",
                  "test/KTQA",
                  "test/KVLI",
                  "test/KYGS",
                  "test/KYSR",
                  "test/LALC",
                  "test/LAMN",
                  "test/LCAI",
                  "test/LCFS",
                  "test/LCSK",
                  "test/LCWV",
                  "test/LDGL",
                  "test/LDIV",
                  "test/LEDI",
                  "test/LGMW",
                  "test/LHKL",
                  "test/LHLW",
                  "test/LIGH",
                  "test/LLNL",
                  "test/LNLV",
                  "test/LNSK",
                  "test/LPEM",
                  "test/LPGS",
                  "test/LPHY",
                  "test/LRPF",
                  "test/LRSF",
                  "test/LRYY",
                  "test/LSIA",
                  "test/LTCN",
                  "test/LTKI",
                  "test/LTSG",
                  "test/LVPS",
                  "test/LYFM",
                  "test/LYVI",
                  "test/MDTS",
                  "test/MELL",
                  "test/MFLL",
                  "test/MIEK",
                  "test/MKEE",
                  "test/MLLV",
                  "test/MRTP",
                  "test/MTNS",
                  "test/MVRA",
                  "test/NALY",
                  "test/NAQR",
                  "test/NAVG",
                  "test/NEAK",
                  "test/NEGS",
                  "test/NESK",
                  "test/NGLH",
                  "test/NINK",
                  "test/NKTK",
                  "test/NNGP",
                  "test/NQFM",
                  "test/NSKS",
                  "test/NSSS",
                  "test/NTGN",
                  "test/NTRI",
                  "test/NYVC",
                  "test/QADC",
                  "test/QADY",
                  "test/QCYE",
                  "test/QDED",
                  "test/QEGG",
                  "test/QEMG",
                  "test/QGAQ",
                  "test/QIAT",
                  "test/QIIS",
                  "test/QISD",
                  "test/QLAE",
                  "test/QLMP",
                  "test/QLQN",
                  "test/QMPN",
                  "test/QPSC",
                  "test/QVRT",
                  "test/RAIS",
                  "test/RFYD",
                  "test/RGIG",
                  "test/RGSP",
                  "test/RHNH",
                  "test/RLRL",
                  "test/RLVG",
                  "test/RNRC",
                  "test/RPKY",
                  "test/RQSG",
                  "test/RQYI",
                  "test/RVES",
                  "test/RYDT",
                  "test/RYKD",
                  "test/SACG",
                  "test/SAEL",
                  "test/SAKW",
                  "test/SANI",
                  "test/SASA",
                  "test/SDGE",
                  "test/SDIQ",
                  "test/SEPC",
                  "test/SFKK",
                  "test/SFVA",
                  "test/SGAS",
                  "test/SGGP",
                  "test/SISS",
                  "test/SKDI",
                  "test/SKGG",
                  "test/SKKA",
                  "test/SKLD",
                  "test/SLKK",
                  "test/SLTC",
                  "test/SMGT",
                  "test/SPNY",
                  "test/SPQI",
                  "test/SQEP",
                  "test/SRAM",
                  "test/SRQN",
                  "test/SSDH",
                  "test/SSGA",
                  "test/SSLS",
                  "test/SSRW",
                  "test/STDD",
                  "test/STDP",
                  "test/STEL",
                  "test/STTI",
                  "test/SVED",
                  "test/SVRT",
                  "test/SVVK",
                  "test/SYDE",
                  "test/SYLV",
                  "test/SYSL",
                  "test/TATY",
                  "test/TDGT",
                  "test/TDSV",
                  "test/TEGV",
                  "test/TFFL",
                  "test/TFFT",
                  "test/TFVV",
                  "test/TGAC",
                  "test/TGDE",
                  "test/TGGC",
                  "test/TISE",
                  "test/TKDP",
                  "test/TKIV",
                  "test/TKMN",
                  "test/TKNN",
                  "test/TLAL",
                  "test/TLVV",
                  "test/TLWE",
                  "test/TPCM",
                  "test/TPGE",
                  "test/TQVP",
                  "test/TRLL",
                  "test/TSKL",
                  "test/TSSL",
                  "test/TSYK",
                  "test/TTAV",
                  "test/TVDP",
                  "test/TVEC",
                  "test/TVLL",
                  "test/TVMK",
                  "test/TVRC",
                  "test/TVSI",
                  "test/TYEG",
                  "test/TYPD",
                  "test/VAAP",
                  "test/VAHH",
                  "test/VCVS",
                  "test/VDKV",
                  "test/VDLY",
                  "test/VELE",
                  "test/VEPL",
                  "test/VESV",
                  "test/VGLQ",
                  "test/VGLS",
                  "test/VHRF",
                  "test/VIEL",
                  "test/VKAL",
                  "test/VKAS",
                  "test/VKNY",
                  "test/VKRE",
                  "test/VKYE",
                  "test/VLCG",
                  "test/VLSM",
                  "test/VLTR",
                  "test/VLYP",
                  "test/VNSN",
                  "test/VPDT",
                  "test/VQFC",
                  "test/VQGT",
                  "test/VQHP",
                  "test/VRLV",
                  "test/VSHF",
                  "test/VSLV",
                  "test/VSVC",
                  "test/VTST",
                  "test/VWRL",
                  "test/WCDK",
                  "test/WDCI",
                  "test/WHPS",
                  "test/WTCP",
                  "test/WVHG",
                  "test/WYKP",
                  "test/YDMQ",
                  "test/YIAA",
                  "test/YKCC",
                  "test/YKLN",
                  "test/YKVI",
                  "test/YLLV",
                  "test/YNTV",
                  "test/YPCS",
                  "test/YYEQ")

